# Система за управление на училище

## Описание
Конзолно приложение на C# за управление на данни за ученици, учители, предмети и оценки в гимназия. Данните се съхраняват в JSON файл за постоянно запазване.

## Функционалности

### Основни операции
- **Добавяне на ученици** - въвеждане на лични данни и класа
- **Добавяне на учители** - регистриране с преподаваните предмети
- **Създаване на предмети** - свързване с конкретни учители
- **Въвеждане на оценки** - по предмети за всеки ученик
- **Преглед на данни** - списъци на всички записи
- **Изчисляване на средни оценки** - автоматично за всеки предмет

### Управление на данни
- Автоматично зареждане при стартиране
- Запазване в JSON формат
- Уникални ID за всеки запис
- Валидация на входните данни

## Структура на данните

### Ученик (Student)
```csharp
public class Student
{
    public int Id { get; set; }                    // Уникален идентификатор
    public string Name { get; set; }               // Име
    public string LastName { get; set; }           // Фамилия
    public string Class { get; set; }              // Клас (напр. "10А")
    public DateTime BirthDate { get; set; }        // Дата на раждане
    public Dictionary<string, List<int>> Grades    // Оценки по предмети
}
```

### Учител (Teacher)
```csharp
public class Teacher
{
    public int Id { get; set; }                    // Уникален идентификатор
    public string Name { get; set; }               // Име
    public string LastName { get; set; }           // Фамилия
    public List<string> Subjects { get; set; }     // Преподавани предмети
}
```

### Предмет (Subject)
```csharp
public class Subject
{
    public int Id { get; set; }                    // Уникален идентификатор
    public string Name { get; set; }               // Име на предмета
    public string Description { get; set; }        // Описание
    public int TeacherId { get; set; }             // ID на учителя
}
```

## Меню на приложението

### Главно меню
```
1. Добавяне на ученик
2. Добавяне на учител
3. Добавяне на предмет
4. Добавяне на оценка
5. Преглед на ученици
6. Преглед на учители
7. Преглед на предмети
8. Преглед на оценки по ученик
9. Запазване на данните
0. Изход
```

## Работа с приложението

### Добавяне на ученик
1. Въведете име на ученика
2. Въведете фамилия
3. Въведете клас (напр. "10А", "11Б")
4. Въведете дата на раждане във формат `дд.мм.гггг`

**Пример:**
```
Име: Иван
Фамилия: Петров
Клас: 10А
Дата на раждане: 15.03.2007
```

### Добавяне на учител
1. Въведете име на учителя
2. Въведете фамилия
3. Въведете предмети разделени със запетая

**Пример:**
```
Име: Мария
Фамилия: Иванова
Предмети: математика, физика
```

### Добавяне на предмет
1. Въведете име на предмета
2. Въведете описание
3. Изберете учител от списъка с налични учители

**Пример:**
```
Име на предмет: Математика
Описание: Алгебра и геометрия за 10 клас
ID на учител: 1
```

### Добавяне на оценка
1. Изберете ученик от списъка
2. Въведете предмет
3. Въведете оценка (2-6)

**Пример:**
```
ID на ученик: 1
Предмет: математика
Оценка: 5
```

### Преглед на оценки
При избор на ученик се показват всички оценки по предмети и се изчислява средната оценка за всеки предмет.

**Пример изход:**
```
Оценки на Иван Петров:
математика: 5, 4, 6 (Средна: 5.00)
физика: 4, 5 (Средна: 4.50)
```

## Файлове

### school_data.json
JSON файл който съдържа всички данни:
```json
{
  "Students": [
    {
      "Id": 1,
      "Name": "Иван",
      "LastName": "Петров",
      "Class": "10А",
      "BirthDate": "2007-03-15T00:00:00",
      "Grades": {
        "математика": [5, 4, 6],
        "физика": [4, 5]
      }
    }
  ],
  "Teachers": [
    {
      "Id": 1,
      "Name": "Мария",
      "LastName": "Иванова",
      "Subjects": ["математика", "физика"]
    }
  ],
  "Subjects": [
    {
      "Id": 1,
      "Name": "Математика",
      "Description": "Алгебра и геометрия за 10 клас",
      "TeacherId": 1
    }
  ]
}
```

## Технически детайли

### Изисквания
- .NET Framework 4.7.2 или по-нова версия
- System.Text.Json за сериализация

### Класове и методи

#### DataManager
- `LoadData()` - зарежда данни от JSON файл
- `SaveData()` - запазва данни в JSON файл
- `AddStudent(Student)` - добавя нов ученик
- `AddTeacher(Teacher)` - добавя нов учител
- `AddSubject(Subject)` - добавя нов предмет
- `AddGrade(int, string, int)` - добавя оценка

#### Program
- `ShowMenu()` - показва главното меню
- `AddStudent()` - интерфейс за добавяне на ученик
- `AddTeacher()` - интерфейс за добавяне на учител
- `AddSubject()` - интерфейс за добавяне на предмет
- `AddGrade()` - интерфейс за добавяне на оценка
- `ShowStudents()` - показва списък с ученици
- `ShowTeachers()` - показва списък с учители
- `ShowSubjects()` - показва списък с предмети
- `ShowStudentGrades()` - показва оценки на ученик

## Валидация

### Оценки
- Приемат се само оценки от 2 до 6
- Автоматично изчисляване на средни оценки

### Дати
- Дата на раждане във формат `дд.мм.гггг`
- Валидация за правилни дати

### ID-та
- Автоматично генериране на уникални ID
- Проверка за съществуващи записи

## Стартиране

1. Компилирайте програмата:
   ```bash
   csc Program.cs
   ```

2. Стартирайте изпълнимия файл:
   ```bash
   Program.exe
   ```

3. Следвайте инструкциите в менюто

## Забележки

- Данните се запазват автоматично при изход
- Можете да запазите данни по всяко време с опция 9
- При грешка в JSON файла програмата ще започне с празни данни
- Поддържа кирилица за имена и предмети